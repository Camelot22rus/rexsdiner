{"version":3,"file":"static/js/Employee.aff8fce4.chunk.js","mappings":"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","sources":["pages/Employee.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectPizzaData } from \"../redux/pizza/selectors\";\r\nimport { selectCart } from \"../redux/cart/selectors\";\r\nimport { selectIsOrderHistoryOpen } from \"../redux/orders/selectors\";\r\nimport {\r\n  addItem,\r\n  minusItem,\r\n  removeItem,\r\n  clearItems,\r\n} from \"../redux/cart/slice\";\r\nimport { addOrder, toggleOrderHistory } from \"../redux/orders/slice\";\r\nimport { fetchPizzasFromJSON } from \"../redux/pizza/asyncActions\";\r\nimport { useAppDispatch } from \"../redux/store\";\r\nimport { OrderHistory } from \"../components\";\r\nimport { getNextOrderNumber } from \"../utils/getOrdersFromLS\";\r\n\r\nconst Employee: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const appDispatch = useAppDispatch();\r\n  const { items, status } = useSelector(selectPizzaData);\r\n  const { totalPrice, items: cartItems } = useSelector(selectCart);\r\n  const isOrderHistoryOpen = useSelector(selectIsOrderHistoryOpen);\r\n\r\n  const [searchValue, setSearchValue] = React.useState(\"\");\r\n  const [isBottomBarCollapsed, setIsBottomBarCollapsed] = React.useState(true);\r\n  const [bottomBarHeight, setBottomBarHeight] = React.useState(250); // Default height in pixels\r\n  const [isResizing, setIsResizing] = React.useState(false);\r\n  const [startY, setStartY] = React.useState(0);\r\n  const [startHeight, setStartHeight] = React.useState(0);\r\n\r\n  const totalCount = cartItems.reduce(\r\n    (sum: number, item: any) => sum + item.count,\r\n    0\r\n  );\r\n\r\n  // Calculate 30% and 70% breakdown\r\n  const thirtyPercent = Math.round(totalPrice * 0.3 * 100) / 100;\r\n  const seventyPercent = Math.round(totalPrice * 0.7 * 100) / 100;\r\n\r\n  React.useEffect(() => {\r\n    const getPizzas = async () => {\r\n      const sortBy = \"id\"; // Sort by ID instead of title\r\n      const order = \"asc\";\r\n      const category = \"\";\r\n      const search = \"\";\r\n      const currentPage = \"1\";\r\n\r\n      appDispatch(\r\n        fetchPizzasFromJSON({ sortBy, order, category, search, currentPage })\r\n      );\r\n    };\r\n\r\n    getPizzas();\r\n  }, [appDispatch]);\r\n\r\n  const filteredItems = items.filter((item) =>\r\n    item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n  );\r\n\r\n  const onAddClick = (item: any) => {\r\n    const cartItem = {\r\n      id: item.id,\r\n      title: item.title,\r\n      price: item.price,\r\n      imageUrl: item.imageUrl,\r\n      count: 0,\r\n    };\r\n    dispatch(addItem(cartItem));\r\n  };\r\n\r\n  const onMinusClick = (id: string) => {\r\n    const cartItem = cartItems.find((item) => item.id === id);\r\n    if (cartItem && cartItem.count === 1) {\r\n      // If count will become 0, remove the item completely\r\n      dispatch(removeItem(id));\r\n    } else {\r\n      // Otherwise just decrease the count\r\n      dispatch(minusItem(id));\r\n    }\r\n  };\r\n\r\n  const getItemCount = (id: string) => {\r\n    const cartItem = cartItems.find((item) => item.id === id);\r\n    return cartItem ? cartItem.count : 0;\r\n  };\r\n\r\n  const onCompleteOrder = () => {\r\n    if (totalCount > 0) {\r\n      // Create order object with incremental ID\r\n      const orderNumber = getNextOrderNumber();\r\n      const order = {\r\n        id: orderNumber.toString(),\r\n        items: cartItems.filter((item) => item.count > 0),\r\n        totalPrice,\r\n        totalCount,\r\n        timestamp: new Date().toISOString(),\r\n        thirtyPercent,\r\n        seventyPercent,\r\n      };\r\n\r\n      // Add order to history\r\n      dispatch(addOrder(order));\r\n\r\n      alert(\r\n        `Заказ #${orderNumber} на сумму ${totalPrice} $ (${totalCount} позиций) добавлен в систему!`\r\n      );\r\n\r\n      // Clear the cart for the next order\r\n      dispatch(clearItems());\r\n    }\r\n  };\r\n\r\n  const toggleBottomBar = () => {\r\n    setIsBottomBarCollapsed(!isBottomBarCollapsed);\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n\r\n    // Start a timer to distinguish between click and drag\r\n    const timer = setTimeout(() => {\r\n      setIsResizing(true);\r\n      setStartY(e.clientY);\r\n      setStartHeight(bottomBarHeight);\r\n    }, 150); // 150ms delay before starting resize\r\n\r\n    const handleQuickMouseUp = () => {\r\n      clearTimeout(timer);\r\n      if (!isResizing) {\r\n        // This was a quick click, toggle the bottom bar\r\n        toggleBottomBar();\r\n      }\r\n      document.removeEventListener(\"mouseup\", handleQuickMouseUp);\r\n    };\r\n\r\n    document.addEventListener(\"mouseup\", handleQuickMouseUp);\r\n  };\r\n\r\n  const handleMouseMove = React.useCallback(\r\n    (e: MouseEvent) => {\r\n      if (!isResizing) return;\r\n\r\n      const deltaY = startY - e.clientY; // Inverted because we want dragging up to increase height\r\n      const newHeight = Math.max(150, Math.min(600, startHeight + deltaY)); // Min 150px, max 600px\r\n      setBottomBarHeight(newHeight);\r\n    },\r\n    [isResizing, startY, startHeight]\r\n  );\r\n\r\n  const handleMouseUp = React.useCallback(() => {\r\n    setIsResizing(false);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (isResizing) {\r\n      document.addEventListener(\"mousemove\", handleMouseMove);\r\n      document.addEventListener(\"mouseup\", handleMouseUp);\r\n      document.body.style.cursor = \"ns-resize\";\r\n      document.body.style.userSelect = \"none\";\r\n    } else {\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n      document.body.style.cursor = \"\";\r\n      document.body.style.userSelect = \"\";\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n      document.body.style.cursor = \"\";\r\n      document.body.style.userSelect = \"\";\r\n    };\r\n  }, [isResizing, handleMouseMove, handleMouseUp]);\r\n\r\n  return (\r\n    <div className=\"employee-page\">\r\n      <div className=\"\">\r\n        <div className=\"employee-header\">\r\n          <h2 className=\"employee-title\">Панель сотрудника</h2>\r\n          <div className=\"employee-header__controls\">\r\n            <div className=\"employee-search\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Поиск продуктов...\"\r\n                value={searchValue}\r\n                onChange={(e) => setSearchValue(e.target.value)}\r\n                className=\"employee-search__input\"\r\n              />\r\n            </div>\r\n            <button\r\n              className=\"employee-orders-btn\"\r\n              onClick={() => dispatch(toggleOrderHistory())}\r\n            >\r\n              <svg\r\n                width=\"20\"\r\n                height=\"20\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1046 21 18 21H17ZM17 21V11H13V7H7V19H17Z\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                />\r\n              </svg>\r\n              <span>Заказы</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"employee-content\">\r\n          <div className=\"product-list\">\r\n            {status === \"loading\" ? (\r\n              <div className=\"loading\">Загружаем продукты...</div>\r\n            ) : (\r\n              filteredItems.map((item) => {\r\n                const itemCount = getItemCount(item.id);\r\n                return (\r\n                  <div key={item.id} className=\"product-item\">\r\n                    <div className=\"product-item__info\">\r\n                      <h4 className=\"product-item__title\">{item.title}</h4>\r\n                      <span className=\"product-item__price\">\r\n                        {item.price} $\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"product-item__controls\">\r\n                      {itemCount > 0 && (\r\n                        <button\r\n                          className=\"product-item__minus\"\r\n                          onClick={() => onMinusClick(item.id)}\r\n                        >\r\n                          −\r\n                        </button>\r\n                      )}\r\n                      {itemCount > 0 && (\r\n                        <span className=\"product-item__count\">{itemCount}</span>\r\n                      )}\r\n                      <button\r\n                        className=\"product-item__add\"\r\n                        onClick={() => onAddClick(item)}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Fixed bottom bar */}\r\n      <div\r\n        className={`employee-bottom-bar ${\r\n          isBottomBarCollapsed ? \"collapsed\" : \"\"\r\n        } ${isResizing ? \"resizing\" : \"\"}`}\r\n        style={{\r\n          height: isBottomBarCollapsed ? \"90px\" : `${bottomBarHeight}px`,\r\n          transition: isResizing ? \"none\" : \"height 0.3s ease\",\r\n        }}\r\n      >\r\n        <button\r\n          className=\"employee-toggle-btn\"\r\n          onMouseDown={handleMouseDown}\r\n          aria-label={\r\n            isBottomBarCollapsed ? \"Expand bottom bar\" : \"Collapse bottom bar\"\r\n          }\r\n        >\r\n          <svg\r\n            width=\"20\"\r\n            height=\"20\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className={`toggle-icon ${isBottomBarCollapsed ? \"collapsed\" : \"\"}`}\r\n          >\r\n            <path\r\n              d=\"M18 15l-6-6-6 6\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </button>\r\n\r\n        <div className=\"employee-bottom-content\">\r\n          <div className=\"employee-total\">\r\n            <div className=\"employee-total__main\">\r\n              <span className=\"employee-total__count\">\r\n                {totalCount} позиций\r\n              </span>\r\n              <span className=\"employee-total__price\">{totalPrice} $</span>\r\n            </div>\r\n          </div>\r\n\r\n          {cartItems.filter((item) => item.count > 0).length > 0 && (\r\n            <div className=\"employee-cart-list\">\r\n              <h4 className=\"cart-list__title\">Добавленные товары:</h4>\r\n              <div className=\"cart-list__items\">\r\n                {cartItems\r\n                  .filter((item) => item.count > 0)\r\n                  .map((cartItem) => {\r\n                    // Find the original item to get combo components\r\n                    const originalItem = items.find(\r\n                      (item) => item.id === cartItem.id\r\n                    );\r\n                    const isCombo =\r\n                      originalItem?.comboComponents &&\r\n                      originalItem.comboComponents.length > 0;\r\n\r\n                    return (\r\n                      <div key={cartItem.id} className=\"cart-list__item\">\r\n                        <div className=\"cart-item__header\">\r\n                          <span className=\"cart-item__name\">\r\n                            {cartItem.title}\r\n                          </span>\r\n                          <div className=\"cart-item__details\">\r\n                            <span className=\"cart-item__count\">\r\n                              {cartItem.count}x\r\n                            </span>\r\n                            <span className=\"cart-item__price\">\r\n                              {cartItem.price * cartItem.count} $\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        {isCombo && (\r\n                          <div className=\"cart-item__combo-components\">\r\n                            <span className=\"combo-components__label\">\r\n                              Включает:\r\n                            </span>\r\n                            <div className=\"combo-components__list\">\r\n                              {originalItem.comboComponents?.map(\r\n                                (component: string) => (\r\n                                  <span\r\n                                    key={component}\r\n                                    className=\"combo-component\"\r\n                                  >\r\n                                    {component}\r\n                                  </span>\r\n                                )\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            className={`employee-complete-btn ${\r\n              totalCount === 0 ? \"disabled\" : \"\"\r\n            }`}\r\n            onClick={onCompleteOrder}\r\n            disabled={totalCount === 0}\r\n          >\r\n            Добавить в заказ\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Order History Modal */}\r\n      {isOrderHistoryOpen && <OrderHistory />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Employee;\r\n"],"names":["Employee","dispatch","useDispatch","appDispatch","useAppDispatch","items","status","useSelector","selectPizzaData","totalPrice","cartItems","selectCart","isOrderHistoryOpen","selectIsOrderHistoryOpen","searchValue","setSearchValue","React","isBottomBarCollapsed","setIsBottomBarCollapsed","bottomBarHeight","setBottomBarHeight","isResizing","setIsResizing","startY","setStartY","startHeight","setStartHeight","totalCount","reduce","sum","item","count","thirtyPercent","Math","round","seventyPercent","async","fetchPizzasFromJSON","sortBy","order","category","search","currentPage","getPizzas","filteredItems","filter","title","toLowerCase","includes","handleMouseMove","e","deltaY","clientY","newHeight","max","min","handleMouseUp","document","addEventListener","body","style","cursor","userSelect","removeEventListener","_jsxs","className","children","_jsx","type","placeholder","value","onChange","target","onClick","toggleOrderHistory","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","map","itemCount","id","cartItem","find","getItemCount","price","removeItem","minusItem","onMinusClick","imageUrl","addItem","onAddClick","concat","transition","onMouseDown","preventDefault","timer","setTimeout","handleQuickMouseUp","clearTimeout","length","_originalItem$comboCo","originalItem","isCombo","comboComponents","component","onCompleteOrder","orderNumber","getNextOrderNumber","toString","timestamp","Date","toISOString","addOrder","alert","clearItems","disabled","OrderHistory"],"sourceRoot":""}